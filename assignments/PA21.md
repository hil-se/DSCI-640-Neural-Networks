[<img width=900 src="../img/title.png?raw=yes">](../README.md)   
[Syllabus](../README.md) |
[Slides and Assignments](README.md) |
[Project](project.md) |
[Lecturer](http://zhe-yu.github.io) 

This contains the following files:

pa2/compile.sh - This is a simple script to compile the java code in this programming assignment. You can run it from the command line with sh compile.sh when you're in the pa11 directory.

pa2/data/SequenceDataSet.java - This class is used to load and use training/testing data from the penn tree bank test files.

pa2/data/CharacterSequence.java - This is similar to the Instance class in PA1, except it now contains a string which will be used as a sequence for training an RNN.

pa2/dataset/penntreebank_train_small.txt

pa2/dataset/penntreebank_valid_small.txt

pa2/dataset/penntreebank_test_small.txt

pa2/dataset/penntreebank_train_full.txt

pa2/dataset/penntreebank_valid_full.txt

pa2/dataset/penntreebank_test_full.txt

These are small and full versions of the penntreebank data set. Each has one sentence per line, with possible characters described in CharacterSequence.java.  Be sure to read over that to understand how they are being encoded (one-hot) and used.

pa2/network/ActivationType.java - This is an enum which is used to determine which activation function a node in the network should use.

pa2/network/Edge.java - This represents a feed forward edge in a recurrent neural network.

pa2/network/RecurrentEdge.java - This represents a recurrent edge in the recurrent neural network.

pa2/network/RecurrentNode.java - This is used to represent a Node in a recurrent neural network.

pa2/network/RecurrentNeuralNetwork.java - This is used to create and train recurrent neural networks.  Note that RecurrentNeuralNetwork, Edge, RecurrentEdge and RecurrentNode are very similar to their counterparts in PA1, except now they'll be using SequenceDataSet and CharacterSequence, and many values which were previously doubles (preActivationInput, delta, etc) are now arrays -- they need to be processed iteratively over each time step from the sequence.

pa2/network/NeuralNetworkException.java - Any problems that happen in the neural network code will throw a NeuralNetworkException. These are also used to validate the unit tests.

pa2/network/RNNNodeType.java - This is a simple enum used to represent the different possible types of recurrent nodes in the neural network (LINEAR, SIGMOID, TANH, LSTM, GRU, MGU, UGRNN, DELTA). Right now recurrent nodes will only be linear, sigmoid, or tanh (referring to their activation function). You will need to implement LSTM nodes in a later assignment, and can do an additional type as bonus.

pa2network/NodeType.java - This is a simple enum used to represent the different possible types of nodes in the neural network (INPUT, HIDDEN or OUTPUT).

pa2/util/Log.java - This is a simple logging class to help you better print out messages to the screen for debugging, testing and actual use. You can write messages to the log at varying levels and specify which messages get printed to the terminal on the command line with the -DLOG_LEVEL=<level> system property.

pa2/BasicTests.java - This contains a basic set of unit tests to validate that the neural network code and data set code is working correctly. These should all work initially and should not be broken by any updates you make in completing the programming assignment. You can run this (after compiling) with java -DLOG_LEVEL=info BasicTests to run these tests to verify they work.

pa2/TestValues.java - Some helper code to simplify comparing my results to your own for testing. Output values and loss values for particular network types can be written and read from files for validation.

pa2/PA21Tests.java - This contains another set of unit tests which you will need to make sure work to verify that your implemented code for this assignment is working correctly. You can run this (after compiling) with java -DLOG_LEVEL=info PA21Tests to run these tests and see which do not work. 




A big part of this assignment is to get comfortable and understand the code you will be working with. Please be sure to read through all the java code and take a look at the penntreebank data files, along with SequenceDataSet and CharacterSequence. The code has a number of comments which should help you understand what is going on. We will be building on this code base for the other parts of programming assignment 2.




Programming Assignment 2 is 15% of your final grade, and Part 1 is 25% of that.  This will be graded out of 5 points.




1. (1 point) Complete the RecurrentNeuralNetwork.connectNodes method, this is pretty much identical to PA11.

2. (1 point) Complete the connectJordan and connectElman methods. These will be run after connectFully() to add recurrent connections to a network. For connectJordan you need to add a recurrent edge from every output to every hidden node, and for connectElman, for each layer you need to add a recurrentEdge between every node in that hidden layer (including a recurrent node from each node to itself).

2. (3 points) Complete the RecurrentNeuralNetwork.forwardPass method. This will include completing a few submethods (e.g., RecurrentNode.applyTanh and RecurrentNode.applySigmoid). You can add additional methods if needed.  You will also need to complete the SVM and SOFTMAX loss functions for the forward pass.

In completing the above, none of your changes should break the unit tests in BasicTests.java. The methods you need to complete are marked with TODO in a comment, so you can find them and the line they are on with the following command (run from within the pa21 directory):

grep -n 'TODO' ./*/*.java</level>
